# Production override for blog.cptsd.in deployment
# Usage: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d

services:
  app:
    # Remove port mapping if using reverse proxy (Caddy)
    # Port 3001 is only accessible via Caddy reverse proxy
    ports: []  # Empty array removes port mapping
    environment:
      NODE_ENV: production
    logging:
      driver: 'json-file'
      options:
        max-size: '10m'
        max-file: '3'

